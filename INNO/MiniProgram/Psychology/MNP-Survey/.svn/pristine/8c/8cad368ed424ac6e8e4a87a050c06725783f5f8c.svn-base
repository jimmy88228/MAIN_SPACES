<template>
  <view class="loading-box">
    <template v-if="showAnim">
      <view class="box flex-c-c">
        <loading-view></loading-view>
      </view>
    </template>
    <template v-if="!showAnim">
      <view class="content-box" :class="[showContent?'showContent':'']">
        <slot></slot>
      </view>
    </template>   
  </view>
</template>

<script>
  import LoadingView from '@/components/css3/loading/loading.vue';
  export default {
    components: {
      LoadingView,
    },
    props: {
      showPage: {
        type: Boolean,
        default: false
      },
    },
    data() {
      return {
        showAnim:true,
        showContent:false,
      }
    },
    watch: {
      showPage(nV) {
        if(nV){
          setTimeout(() => {
            this.showAnim = false;
            setTimeout(() => {
              this.showContent = true;
              }, 50);
          }, 700);
        }
      }
    },
  }
</script>

<style lang="scss" scoped>

.loading-box{
  .box{
    width: 100%;
    position: relative;
    height: 100vh;
  }
  .content-box{
    opacity: 0;
    transition: opacity 0.25s;
  }
  .showContent{
    opacity:1;
  }
}
</style>