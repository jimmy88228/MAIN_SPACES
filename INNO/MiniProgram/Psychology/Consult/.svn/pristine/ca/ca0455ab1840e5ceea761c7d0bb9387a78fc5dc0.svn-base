<template>
  <view class="reserve-supervise-list">
    <page-nav>
      <template slot="title">
        <view>预约督导</view>
      </template>
    </page-nav>
    <view class="reserve-list">
      <view class="reserve-item" v-for="(item,i) in reserveList" :key="i">
        <view class="flex-b-c m-b-40">
          <view>
            <view class="font-20 C_8E m-b-15">{{item.startDate}}</view>
            <view class="bold C_333 font-30">预约督导师</view>
          </view>
          <view class="status flex-c-c" v-if="item.type == 0">待处理</view>
          <view class="status status-finish flex-c-c" v-else>已完成</view>
        </view>
        <view class="reserve-info-item flex">
          <view>资讯方向</view>
          <view class="clamp C_333 font-26">{{item.direction}}</view>
        </view>
        <view class="reserve-info-item flex">
          <view>备注</view>
          <view class="clamp2 C_333 font-26">{{item.remark}}</view>
        </view>
        <view class="reserve-success flex" v-if="item.type == 1">
          <image :src="informationIcon" mode="widthFix" />
          <view>
            <view class="bold C_333 m-b-15">预约成功</view>
            <view class="flex font-26">
              <view class="C_7f f-shrink-0 m-r-10" style="width:105rpx">预约日期</view>
              <view class="C_333">{{item.reserveDate}}</view>
            </view>
            <view class="flex font-26">
              <view class="C_7f f-shrink-0 m-r-10" style="width:105rpx">督导方式</view>
              <view class="C_333">{{item.superviseType}}</view>
            </view>
            <view class="flex font-26">
              <view class="C_7f f-shrink-0 m-r-10" style="width:105rpx">督导师</view>
              <view class="C_333">{{item.supervisor}}</view>
            </view>
          </view>
        </view>
      </view>
    </view>
    <view class="reserve-botton flex-c-c font-30" @click="reserve">
      预约督导师
    </view>
  </view>
</template>

<script>
  const app = getApp();
  const pageOption = Page.BasePage({
    data() {
      return {
        informationIcon: require("@/static/information.png"),
        reserveList: []
      }
    },
    components: {},
    // onShareAppMessage(e){},
    methods: {
      loadData() {
        let reserveList = [];
        for (let i = 0; i < 10; i++) {
          let direction = Math.random() > 0.5 ? '家庭纠纷' : '情绪压力';
          let type = Math.random() > 0.5 ? 0 : 1;
          reserveList.push({
            direction,
            remark: "提问内容提问内容提问内容提问内容提问提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容提问内容",
            type,
            startDate: "2022-03-12 12:00",
            reserveDate: "2022年6月3日",
            superviseType: "电话咨询",
            supervisor: "张泉平"
          })
          this.reserveList = reserveList
        }
      },
      reserve(){
        this.jumpAction("/pages/work-bench/reserve-supervise/reserve-supervise")
      }
    },
    onShow() {
      this.loadData()
    },
    onReady() {

    }
  })
  export default pageOption
</script>

<style lang="scss" scoped>
  .reserve-supervise-list {
    min-height: 100vh;
    background-color: #F7F7F7;

    .reserve-list {
      padding: 25rpx 25rpx 150rpx;

      .reserve-item {
        background: #FFFFFF;
        border-radius: 12rpx;
        padding: 30rpx;
        margin-bottom: 22rpx;

        .status {
          width: 98rpx;
          height: 36rpx;
          background: #F9FFF9;
          border-radius: 18rpx;
          border: 2rpx solid #D7F3D7;
          font-size: 22rpx;
          font-family: PingFangSC-Regular, PingFang SC;
          font-weight: 400;
          color: #1EA511;
        }

        .status-finish {
          background: #F8F8F8 !important;
          border: 1px solid #EFEFEF !important;
          color: #B2B2B2 !important;
        }

        .reserve-info-item {
          margin-bottom: 30rpx;

          &>view:first-child {
            margin-right: 26rpx;
            width: 105rpx;
            flex-shrink: 0;
            font-size: 26rpx;
            color: #7F7F7F;
          }
        }

        .reserve-success {
          padding: 30rpx 40rpx;
          background-color: rgba($color: #9DD6F0, $alpha: 0.1);
          border-radius: 6rpx;

          &>image {
            width: 69rpx;
            height: 69rpx;
            border-radius: 6rpx;
            margin-right: 35rpx;
          }
        }
      }
    }
  }

  .reserve-botton {
    position: fixed;
    bottom: 30rpx;
    right: 25rpx;
    width: 288rpx;
    height: 100rpx;
    background: $uni-main-color;
    color: #FFFFFF;
    border-radius: 50px;
  }
</style>