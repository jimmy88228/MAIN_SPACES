<template>
  <view>
    <ori-popup @touchmove.stop.prevent="disabledScroll" ref="popup" type="bottom" :is-mask-click="true"
      :safe-area="false">
      <template v-slot:content>
        <view class="popup-content">
          <view>
            <view class="font-28 m-b-25">
              选择组织进入
            </view>
            <scroll-view :scroll-y="true" class="scroll-view-info">
              <view v-for="(item,i) in organizeLsit" :key="i" @click="selectOrganize">
                <view class="organize-item flex-b-c">
                  <view class="flex-s-c flex1" style="min-height: 0 ">
                    <image class="organize-icon" :src="organizeIcon" mode="widthFix" />
                    <view class="clamp flex1">
                      <view class="clamp font-26 flex-s-c">{{item.organizeName}}</view>
                      <view class="clamp font-18 C_7f flex-s-c">{{item.belong}}</view>
                    </view>
                  </view>
                  <text class="arrow-right"></text>
                </view>
              </view>
            </scroll-view>
          </view>
        </view>
      </template>
    </ori-popup>
  </view>
</template>

<script>
  import oriPopup from "@/components/ori-comps/popup/ori-popup";
  const pageOption = Page.BasePage({
    name: "work-bench",
    props: {
    },
    components: {
      oriPopup
    },
    computed: {},
    data() {
      return {
          organizeIcon: "/static/organize.png",
        organizeLsit: [{
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
          {
            organizeName: "质检部",
            belong: "…技术部/海关总队"
          },
        ]
      };
    },
    methods: {
      showBench() {
        let ref = "popup";
        this.$refs[ref].show();
        this.$emit("showBench")
      },
      hideBench() {
        let ref = "popup";
        this.$refs[ref].dismiss();
        this.$emit("closeBench")
      },
      selectOrganize({currentTarget}){
        let ref = "popup";
        let id = currentTarget.dataset.id;
        this.$emit("selected",id)
        this.$refs[ref].dismiss();
      }
    },
  });
  export default pageOption;
</script>

<style lang="scss">
  // 弹出框
  .popup-content {
    background: #ffffff;
    border-radius: 20rpx 20rpx 0px 0px;
    padding-top: 50rpx;
    padding-left: 55rpx;
    padding-right: 55rpx;
    padding-bottom: calc(16rpx + constant(safe-area-inset-bottom));
    padding-bottom: calc(16rpx + env(safe-area-inset-bottom));
    position: relative;

    .scroll-view-info {
      height: 650rpx;
      width: 100%;
      line-height: 50rpx;
    }

    .organize-item {
      padding: 36rpx 36rpx 36rpx 28rpx;
      border-bottom: 2rpx solid #E1E1E1;

      &>view:first-child {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .organize-icon {
        width: 62rpx;
        height: 62rpx;
        overflow: hidden;
        border-radius: 50%;
        margin-right: 24rpx;
        flex-shrink: 0;
      }

      .arrow-right {
        display: inline-block;
        width: 18rpx;
        height: 18rpx;
        border-top: 4rpx solid rgba(0, 0, 0, 0.9);
        border-right: 4rpx solid rgba(0, 0, 0, 0.9);
        transform: rotate(45deg);
        flex-shrink: 0;
      }
    }
  }
</style>