const routeMenusKey = {
    inventoryManagement: "inventoryManagement",
    appraisalActivity: "appraisalActivity",
    psychologicalFile: "psychologicalFile",
    psychicFiles: "psychicFiles",
    assessmentTasks: "assessmentTasks",
    classMaintenance: "classMaintenance",
    schoolMaintenance: "schoolMaintenance",
    forewarningManagement: "forewarningManagement",
    forewarningSurvey: "forewarningSurvey",
    pageManagement: "pageManagement",
    pageMaintenance: "pageMaintenance",
    personalCenter: "personalCenter",
    contentRepository: "contentRepository",
    peopleMaintain: "peopleMaintain",
    systemSettings: "systemSettings",
    adminUserRoleSetting: "adminUserRoleSetting",
    organizationalManagement: "organizationalManagement"
}
/**
 * meta code ==>该页面的acitonCode（只为菜单跳转, 并非必须）
 * meta menu ==>隶属于的菜单（多个页面可属于一个菜单）
 */
const homeRoutes = [{
    name: "home",
    path: "/home",
    component: () => import(/*webpackChunkName: "page-home"*/"@/models/home/home"),
    meta: {
        isHome: 1,
        menu: routeMenusKey['pageHome'],
        title: "首页"
    }
}]

// 量表管理
const gaugeRoutes = [{
    name: "gauge",
    path: "/gauge",
    component: () => import(/*webpackChunkName: "gauge-index"*/"@/models/survey/gauge/index"),
    meta: {
        menu: routeMenusKey['inventoryManagement'],
        title: "量表管理"
    }
}]
// 测评活动
const surveyActivityRoutes = [

    {
        name: "surveyActivity",
        path: "/surveyActivity",
        component: () => import(/*webpackChunkName: "survey-activity"*/"@/models/survey/activity/index"),
        meta: {
            menu: routeMenusKey['appraisalActivity'],
            title: "测评活动"
        }
    },
    {
        name: "editSurveyActivity",
        path: "/editSurveyActivity",
        component: () => import(/*webpackChunkName: "edit-survey-activity"*/"@/models/survey/activity/edit-activity/index"),
        meta: {
            menu: routeMenusKey['appraisalActivity'],
            title: "编辑活动"
        }
    },
    {
        name: "addSurveyActivity",
        path: "/addSurveyActivity",
        component: () => import(/*webpackChunkName: "edit-survey-activity"*/"@/models/survey/activity/edit-activity/index"),
        meta: {
            menu: routeMenusKey['appraisalActivity'],
            title: "创建活动"
        }
    },
    {
        name: "assessProgress",
        path: "/assessProgress",
        component: () => import(/*webpackChunkName: "assess-progress"*/"@/models/survey/activity/assess/progress/index"),
        meta: {
            removeBg: true,
            menu: routeMenusKey['appraisalActivity'],
            title: "测评进度"
        }
    },
    {
        name: "assessOverview",
        path: "/aassessOverview",
        component: () => import(/*webpackChunkName: "aassess-overview"*/"@/models/survey/activity/assess/overview/index"),
        meta: {
            removeBg: true,
            menu: routeMenusKey['appraisalActivity'],
            title: "活动概况"
        }
    },
    {
        name: "assessResult",
        path: "/assessResult",
        component: () => import(/*webpackChunkName: "assess-result"*/"@/models/survey/activity/assess/result/index"),
        meta: {
            hideTitle: true, 
            menu: routeMenusKey['appraisalActivity'],
            title: "测评结果"
        }
    },
    {
        name: "assessReport",
        path: "/assessReport",
        component: () => import(/*webpackChunkName: "assess-report"*/"@/models/survey/activity/assess/report/index"),
        meta: {
            menu: routeMenusKey['appraisalActivity'],
            title: "测评报告"
        }
    },
    {
        name: "assessAnswer",
        path: "/assessAnswer",
        component: () => import(/*webpackChunkName: "assess-answer"*/"@/models/survey/activity/assess/answer/index"),
        meta: {
            menu: routeMenusKey['appraisalActivity'],
            title: "测评答案"
        }
    },
]

const psychicFilesRoutes = [
    {
        name: "psychicFiles",
        path: "/psychicFiles",
        component: () => import(/*webpackChunkName: "psychic-file"*/"@/models/psychic/index"),
        meta: {
            code: "",
            menu: routeMenusKey['psychologicalFile'],
            title: "档案管理"
        } 
    },
    {
        name: "memberPsychicFiles",
        path: "/memberPsychicFiles",
        component: () => import(/*webpackChunkName: "student-psychic-file"*/"@/models/psychic/psychic-files/index"),
        meta: {
            removeBg: true,
            hideTitle: true, 
            menu: routeMenusKey['psychologicalFile'],
            title: "心理档案"
        }
    },
    {
        name: "psychicFilesReport",
        path: "/psychicFilesReport",
        component: () => import(/*webpackChunkName: "psychic-file-report"*/"@/models/survey/activity/assess/report/index"),
        meta: { 
            menu: routeMenusKey['psychologicalFile'],
            title: "心理档案报告"
        }
    },
    {
        name: "psychicFilesDetail",
        path: "/psychicFilesDetail",
        component: () => import(/*webpackChunkName: "psychic-files-detail"*/"@/models/psychic/psychic-files/psychic-detail/index"),
        meta: {
            removeBg: true,
            hideTitle: true, 
            menu: routeMenusKey['psychologicalFile'],
            title: "心理档案详情"
        }
    }
]
const assessTastRoutes = [
    {
        name: "assessTast",
        path: "/assessTast",
        component: () => import(/*webpackChunkName: "assess-tast"*/"@/models/shcool-work/assess-task/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "测评任务"
        } 
    },
    {
        name: "addAssessTast",
        path: "/addAssessTast",
        component: () => import(/*webpackChunkName: "add-assess-tast"*/"@/models/survey/activity/edit-activity/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "新增测评任务"
        }
    },
    {
        name: "editAssessTast",
        path: "/editAssessTast",
        component: () => import(/*webpackChunkName: "edit-assess-tast"*/"@/models/survey/activity/edit-activity/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "编辑测评任务"
        }
    },
    {
        name: "assessRelateClass",
        path: "/assessRelateClass",
        component: () => import(/*webpackChunkName: "assess-relate-tast"*/"@/models/shcool-work/assess-task/relate-class/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "关联班级"
        } 
    },
    {
        name: "assessTaskProgress",
        path: "/assessTaskProgress",
        component: () => import(/*webpackChunkName: "assess-task-progress"*/"@/models/survey/activity/assess/progress/index"),
        meta: {
            removeBg: true,
            menu: routeMenusKey['assessmentTasks'],
            title: "测评进度"
        }
    },
    {
        name: "assessTaskResult",
        path: "/assessTaskResult",
        component: () => import(/*webpackChunkName: "assess-task-result"*/"@/models/survey/activity/assess/result/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "测评结果"
        }
    },
    {
        name: "assessTaskReport",
        path: "/assessTaskReport",
        component: () => import(/*webpackChunkName: "assess-task-report"*/"@/models/survey/activity/assess/report/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "测评报告"
        }
    },
    {
        name: "assessTaskAnswer",
        path: "/assessTaskAnswer",
        component: () => import(/*webpackChunkName: "assess-task-answer"*/"@/models/survey/activity/assess/answer/index"),
        meta: {
            menu: routeMenusKey['assessmentTasks'],
            title: "测评答案"
        }
    },
]

const classMaintRoutes = [
    {
        name: "classMaint",
        path: "/classMaint",
        component: () => import(/*webpackChunkName: "class-maint"*/"@/models/shcool-work/class/index"),
        meta: {
            menu: routeMenusKey['classMaintenance'],
            title: "班级维护"
        }  
    }
]

const earlyWarnRoutes = [
    // {
    //     name: "earlyWarnStudent",
    //     path: "/earlyWarnStudent",
    //     component: () => import(/*webpackChunkName: "early-warn-student"*/"@/models/early-warn/student/index"),
    //     meta: {
    //         menu: routeMenusKey['forewarningSurvey'],
    //         title: "预警学生列表"
    //     } 
    // },
    {
        name: "earlyWarnIndex",
        path: "/earlyWarnIndex",
        component: () => import(/*webpackChunkName: "early-warn-index"*/"@/models/early-warn/index"),
        meta: {
            removeBg: true,
            menu: routeMenusKey['forewarningSurvey'],
            title: "预警概况"
        } 
    },
    {
        name: "earlyWarnExamine",
        path: "/earlyWarnExamine",
        component: () => import(/*webpackChunkName: "early-warn-examine"*/"@/models/early-warn/examine/index"),
        meta: {
            menu: routeMenusKey['forewarningSurvey'],
            title: "审核预警列表"
        } 
    },
    {
        name: "earlyWarnFormal",
        path: "/earlyWarnFormal",
        component: () => import(/*webpackChunkName: "early-warn-formal"*/"@/models/early-warn/formal/index"),
        meta: {
            menu: routeMenusKey['forewarningSurvey'],
            title: "正式预警人员列表"
        } 
    },
    {
        name: "earlyWarnMeddle",
        path: "/earlyWarnMeddle",
        component: () => import(/*webpackChunkName: "early-warn-meddle"*/"@/models/early-warn/meddle/index"),
        meta: {
            menu: routeMenusKey['forewarningSurvey'],
            title: "干预记录"
        } 
    },
    {
        name: "earlyWarnPsychicFiles",
        path: "/earlyWarnPsychicFiles",
        component: () => import(/*webpackChunkName: "earlywarn-psychic-file"*/"@/models/shcool-work/student/psychic-files/index"),
        meta: {
            removeBg: true,
            hideTitle: true, 
            menu: routeMenusKey['forewarningSurvey'],
            title: "心理档案"
        }
    },
    {
        name: "earlyWarnPsychicFilesReport",
        path: "/earlyWarnPsychicFilesReport",
        component: () => import(/*webpackChunkName: "earlyWarn-psychic-file-report"*/"@/models/survey/activity/assess/report/index"),
        meta: { 
            menu: routeMenusKey['forewarningSurvey'],
            title: "心理档案报告"
        }
    },
    {
        name: "earlyWarnPsychicFilesDetail",
        path: "/earlyWarnPsychicFilesDetail",
        component: () => import(/*webpackChunkName: "earlyWarn-psychic-files-detail"*/"@/models/shcool-work/student/psychic-files/psychic-detail/index"),
        meta: {
            removeBg: true,
            hideTitle: true, 
            menu: routeMenusKey['forewarningSurvey'],
            title: "心理档案详情"
        }
    }
]

const customManageRoutes = [
    {
        name: "customPage",
        path: "/customPage",
        component: () => import(/*webpackChunkName: "custom-page"*/"@/models/pages/custom-page/index"),
        meta: {
            hideTitle: true, 
            menu: routeMenusKey['pageMaintenance'],
            title: "自定义页面"
        } 
    },
    {
        name: "editCustomPage",
        path: "/editCustomPage",
        component: () => import(/*webpackChunkName: "edit-custom-page"*/"@/models/pages/custom-page/edit-page/index"),
        meta: {
            hideTitle: true, 
            menu: routeMenusKey['pageMaintenance'],
            title: "编辑页面"
        } 
    },
    {
        name: "userCenter",
        path: "/userCenter",
        component: () => import(/*webpackChunkName: "user-center"*/"@/models/pages/user-center/index"),
        meta: {
            hideTitle: true, 
            menu: routeMenusKey['personalCenter'],
            title: "个人中心"
        } 
    }
]

const contentRepositoryRoutes = [ 
    {
        name: "contentRepository",
        path: "/contentRepository",
        component: () => import(/*webpackChunkName: "user-center"*/"@/models/pages/content-repository/index"),
        meta: {
            menu: routeMenusKey['contentRepository'],
            title: "内容库"
        } 
    }
]

const memberManageRoutes = [
    {
        name: "memberManage",
        path: "/memberManage",
        component: () => import(/*webpackChunkName: "member-manage"*/"@/models/organize/member/index"),
        meta: {
            menu: routeMenusKey['peopleMaintain'],
            title: "人员管理"
        } 
    },
    {
        name: "resetMemberPwd",
        path: "/resetMemberPwd",
        component: () => import(/*webpackChunkName: "reset-member-pwd"*/"@/models/organize/member/reset-pwd/index"),
        meta: {
            menu: routeMenusKey['peopleMaintain'],
            title: "重置密码"
        } 
    }
]
 
const organizeManageRoute = [
    {
        name: "organizational-index",
        path: "/organizational-index",
        component: () => import(/*webpackChunkName: "organizational-index"*/"@/models/organize/index"),
        meta: {
            menu: routeMenusKey['organizationalManagement'],
            title: "组织管理"
        } 
    }
]
const systemSettingsRoutes = [
    {
        name: "powerManager",
        path: "/powerManager",
        component: () => import(/*webpackChunkName: "power-manager"*/"@/models/system/power/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "权限管理"
        } 
    },
]





// 第三方管理平台路由

const contentManageRoutes = [
    // 视频
    {
        name: "videoManageIndex",
        path: "/videoManageIndex",
        component: () => import(/*webpackChunkName: "video-manage-index"*/"@/models/platform/content-manage/video/index"),
        meta: {
            hideTitle: true,
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "视频管理"
        } 
    },
    {
        name: "videoManageAdd",
        path: "/videoManageAdd",
        component: () => import(/*webpackChunkName: "video-manage-add"*/"@/models/platform/content-manage/video/edit-video/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "添加视频"
        } 
    },
    {
        name: "videoManageDetail",
        path: "/videoManageDetail",
        component: () => import(/*webpackChunkName: "video-manage-detail"*/"@/models/platform/content-manage/video/edit-video/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "编辑视频"
        } 
    },
    // 音频
    {
        name: "audioManageIndex",
        path: "/audioManageIndex",
        component: () => import(/*webpackChunkName: "audio-manage-index"*/"@/models/platform/content-manage/audio/index"),
        meta: {
            hideTitle: true,
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "音频管理"
        } 
    },
    {
        name: "audioManageAdd",
        path: "/audioManageAdd",
        component: () => import(/*webpackChunkName: "audio-manage-add"*/"@/models/platform/content-manage/audio/edit-audio/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "添加音频"
        } 
    },
    {
        name: "audioManageDetail",
        path: "/audioManageDetail",
        component: () => import(/*webpackChunkName: "audio-manage-detail"*/"@/models/platform/content-manage/audio/edit-audio/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "编辑音频"
        } 
    },
    // 文章
    {
        name: "articleManageIndex",
        path: "/articleManageIndex",
        component: () => import(/*webpackChunkName: "article-manage-index"*/"@/models/platform/content-manage/article/index"),
        meta: {
            hideTitle: true,
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "文章管理"
        } 
    },
    {
        name: "articleManageAdd",
        path: "/articleManageAdd",
        component: () => import(/*webpackChunkName: "article-manage-add"*/"@/models/platform/content-manage/article/edit-article/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "添加文章"
        } 
    },
    {
        name: "articleManageDetail",
        path: "/articleManageDetail",
        component: () => import(/*webpackChunkName: "article-manage-detail"*/"@/models/platform/content-manage/article/edit-article/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "编辑文章"
        } 
    },
    // 资源管理
    {
        name: "resourceManageIndex",
        path: "/resourceManageIndex",
        component: () => import(/*webpackChunkName: "resource-manage-index"*/"@/models/platform/customer-support/resource/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "资源管理"
        } 
    },
    {
        name: "resourceManageDetail",
        path: "/resourceManageDetail",
        component: () => import(/*webpackChunkName: "resource-manage-detail"*/"@/models/platform/customer-support/resource/edit-resource/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "资源管理"
        } 
    },
    {
        name: "subscribeManageIndex",
        path: "/subscribeManageIndex",
        component: () => import(/*webpackChunkName: "subscribe-manage-index"*/"@/models/platform/customer-support/subscribe/index"),
        meta: {
            menu: routeMenusKey['adminUserRoleSetting'],
            title: "预约咨询"
        } 
    },
    
]


const routes = [
    ...homeRoutes,
    ...gaugeRoutes,
    ...surveyActivityRoutes,
    ...psychicFilesRoutes,
    ...assessTastRoutes,
    ...classMaintRoutes,
    ...earlyWarnRoutes,
    ...customManageRoutes,
    ...contentRepositoryRoutes,
    ...memberManageRoutes,
    ...organizeManageRoute,
    ...systemSettingsRoutes,

    ...contentManageRoutes
]

function setMenuRoutes(){
    // 菜单默认跳转同菜单第一项
    let routesMenuMap = {};
    
    if(routes.length > 0){
        for(let i = 0; i < routes.length; i++){
            let item = routes[i] || {};
            let menu = (item.meta && item.meta.menu) || ''
            if(menu && !routesMenuMap[menu]){
                let meta = item.meta || {}
                routesMenuMap[menu] = {
                    path: item.path,
                    name: item.name,
                    title: meta.title
                }
            }
        }
    }
    return routesMenuMap;
    
}

export default {
    routes,
    routesMenuMap: setMenuRoutes()
};