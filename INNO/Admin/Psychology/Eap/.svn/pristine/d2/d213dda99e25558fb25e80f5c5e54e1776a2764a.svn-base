<style lang="less" scoped>
.editor-left-menu {
    width: 100%;
    height: 100%;
    overflow: hidden;
    border-right: 1px solid #dcdee2;
    border-left: 1px solid #dcdee2;
    .ivu-collapse{
        border-left: 0 none;
        border-right: 0 none;
    }
    .source-item {
        width: 50%;
        display: inline-block;
        text-align: center;
        background-color: #fff;
        padding: 5px;
        cursor: move;
    }
    .source-item:hover {
        background-color: #efefef;
    }
    .empty-tip {
        padding: 10px;
        text-align: center;
    }
}
</style>

<template>
    <div class="editor-left-menu bg-page">
        <Collapse v-model="panelShow">
            <Panel name="basePanel">
                <span slot="">基础组件</span>
                <div slot="content">
                    <draggable :clone="cloneItem" :list="baseCompList" :group="{name:'itemBox', pull:'clone', put: false}">
                        <div v-for="item in baseCompList" :key="item.module_type" class="source-item">
                            <Icon :type="item.icon" :class="item.icon_class" size="30"></Icon>
                            <p>{{item.module_name}}</p>
                        </div>
                    </draggable>
                    <p v-if="baseCompList.length == 0 " class="empty-tip">暂无可用基础组件</p>
                </div>
            </Panel>
        </Collapse>
    </div>
</template>

<script>
import draggable from "vuedraggable";

export default {
    name: "editorLeftMenu",
    components: {
        draggable,
    },
    props: {
        height: {
            type: Number,
            default: 500,
        },
        pageType: {
            type: String,
            default: "NONE",
        },
    },
    data() {
        return {
            panelShow: ["basePanel"],
            baseCompList: [
                {
                    cat: "basic",
                    module_type: "IMAGE-AD",
                    desc: "常规图片广告，有多种显示形式",
                    hideMenu: false,
                    icon: "ios-images-outline",
                    icon_class: "icon",
                    icon_color: "#19be6b",
                    module_name: "图片广告",
                    plugins_code: "",
                    show_in_toolbar: true,
                },
            ],
        };
    },
    methods: {
        setCopmList(copmList) {},
        // 克隆的内容
        cloneItem({ module_name, module_type }) {
            let cloneObject = JSON.parse(
                JSON.stringify({
                    module_name: `${module_name}`,
                    module_type: `${module_type}`,
                    is_deletable: 1,
                    setting: {}, // 统一静态配置
                    dynamic_setting: {}, // 动态配置
                    module_data: {
                        
                    }, // 动态数据 Object | Array
                })
            );
            return cloneObject;
        },
    },
};
</script>
